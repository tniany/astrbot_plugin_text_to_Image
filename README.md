# astrbot_plugin_text_to_Image
 二次元风格-文本转图片

<div align="center">
  <img src="https://github.com/user-attachments/assets/4d1de02f-7347-4b2f-b81d-c2d3cfd84b87" alt="logo" width="300" />
  <p>AstrBot 插件，二次元风格文转图，使bot以图片形式返回内容，将文本以图片的形式发送。基于外部API的二次元风格文转图，提供更美观的文本展示效果。</p>
  
  <div>
    <img src="https://img.shields.io/github/stars/tniany/astrbot_plugin_text_to_Image?style=flat-square" alt="GitHub Stars" />
    <img src="https://img.shields.io/github/license/tniany/astrbot_plugin_text_to_Image?style=flat-square" alt="License" />
    <img src="https://img.shields.io/badge/python-3.7%2B-blue?style=flat-square" alt="Python Version" />
  </div>
</div>


## 功能介绍

- **单次文本转图片**：使用 `/p 文本` 指令将指定文本转换为图片并发送
- **图片模式切换**：使用 `/tp` 指令切换图片模式，开启后所有返回内容都会转换为图片
- **自动错误处理**：当图片生成失败时，会自动回退到发送纯文本
- **二次元风格**：基于外部API生成的图片具有美观的二次元风格

## 效果展示

  <img src="https://github.com/user-attachments/assets/0369dd64-e7a2-494d-943a-14eb9e0e83f7" alt="效果展示" width="300" />


## 技术实现

- 使用 `aiohttp` 库进行异步HTTP请求
- 调用外部API生成图片
- 支持文本URL编码和完整的错误处理机制
- 兼容多种聊天平台

## 安装方法

### 方法一：插件市场安装（推荐）
在 AstrBot 插件市场中搜索 **二次元风格-文本转图片**，点击下载安装即可。

### 方法二：手动安装
1. 克隆或下载本插件到 AstrBot 的插件目录
   ```bash
   git clone https://github.com/tniany/astrbot_plugin_text_to_Image.git
   ```

2. 安装依赖：
   ```bash
   pip install -r requirements.txt
   ```

3. 重启 AstrBot 即可使用

## 使用示例

### 单次文本转图片

```
/p 你好，这是一条测试消息
```

### 切换图片模式

```
/tp
# 回复：图片模式已开启

/tp
# 回复：图片模式已关闭
```

## 依赖

- Python 3.7+
- aiohttp

## 许可证

[MIT](LICENSE)

## 作者

浅月tniay

## 版本

v1.0.6

## 更新日志

### v1.0.6
- 优化错误处理机制
- 提升图片生成成功率

### v1.0.5
- 修复部分平台兼容性问题
- 优化API调用逻辑

### v1.0.0
- 初始版本发布
- 实现基本的文本转图片功能
- 支持图片模式切换


## 仓库地址

[GitHub](https://github.com/tniany/astrbot_plugin_text_to_Image)
